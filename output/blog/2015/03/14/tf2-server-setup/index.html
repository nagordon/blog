<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Team Fortress 2 Server Install for Dummies - if curious: then learn</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link href="http://nagordon.github.io/ifcuriousthenlearn/images/earth.png" rel="icon">

<link rel="canonical" href="http://nagordon.github.io/ifcuriousthenlearn/blog/2015/03/14/tf2-server-setup/">

        <meta name="author" content="Neal Gordon" />
        <meta name="keywords" content="video-games" />
        <meta name="description" content="How to set up a Team Fortress 2 steam server-setup" />

        <meta property="og:site_name" content="if curious: then learn" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Team Fortress 2 Server Install for Dummies"/>
        <meta property="og:url" content="http://nagordon.github.io/ifcuriousthenlearn/blog/2015/03/14/tf2-server-setup/"/>
        <meta property="og:description" content="How to set up a Team Fortress 2 steam server-setup"/>
        <meta property="article:published_time" content="2015-03-14" />
            <meta property="article:section" content="Computing" />
            <meta property="article:tag" content="video-games" />
            <meta property="article:author" content="Neal Gordon" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://nagordon.github.io/ifcuriousthenlearn/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://nagordon.github.io/ifcuriousthenlearn/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://nagordon.github.io/ifcuriousthenlearn/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://nagordon.github.io/ifcuriousthenlearn/theme/css/style.css" type="text/css"/>

        <link href="http://nagordon.github.io/ifcuriousthenlearn/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="if curious: then learn ATOM Feed"/>




</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://nagordon.github.io/ifcuriousthenlearn/" class="navbar-brand">
if curious: then learn            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="http://nagordon.github.io/ifcuriousthenlearn/pages/about-me.html">
                             About me
                          </a></li>
                        <li >
                            <a href="http://nagordon.github.io/ifcuriousthenlearn/category/aviation.html">Aviation</a>
                        </li>
                        <li class="active">
                            <a href="http://nagordon.github.io/ifcuriousthenlearn/category/computing.html">Computing</a>
                        </li>
                        <li >
                            <a href="http://nagordon.github.io/ifcuriousthenlearn/category/engineering.html">Engineering</a>
                        </li>
                        <li >
                            <a href="http://nagordon.github.io/ifcuriousthenlearn/category/tools.html">Tools</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://nagordon.github.io/ifcuriousthenlearn/blog/2015/03/14/tf2-server-setup/"
                       rel="bookmark"
                       title="Permalink to Team Fortress 2 Server Install for Dummies">
                        Team Fortress 2 Server Install for Dummies
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2015-03-14T00:00:00-07:00"> 2015-03-14</time>
    </span>


            <span class="label label-default">By</span>
            <a href="http://nagordon.github.io/ifcuriousthenlearn/author/neal-gordon.html"><i class="fa fa-user"></i> Neal Gordon</a>



<span class="label label-default">Tags</span>
	<a href="http://nagordon.github.io/ifcuriousthenlearn/tag/video-games.html">video-games</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>For those of us who remember playing games on dos, steam[http://store.steampowered.com/]
is a nice program for purchasing, managing, and playing video games. I grew up playing LAN games because dial-up just wasn't fast enough for online gaming, and it is way more fun to play games in the same room with your friends rather than random people online.</p>
<p>Things have changed since those days. Internet speeds and just fine for online gaming, but I still prefer LAN games because, again, it is way more fun to game with your friends in the same room. So, I enjoy hosting LAN games, and I found setting up a local server a fun technical challenge, and If you are interested in doing the same, this should help you do it.</p>
<p>The cool things with steam servers is you don't even need an account. You can create an anonymous server that is not affiliated with you.</p>
<h2><strong>Step 1</strong> - Get a free operating system</h2>
<p>Get a Debain based Linux computer. I am using an older samsung laptop (6 GB, i5 processor) running <a href="http://www.linuxmint.com/edition.php?id=172">mint-cinnamon</a></p>
<h2><strong>Step 2</strong> - Install dependent software</h2>
<p>Get to your linux terminal and install the required software by running this command
<code>sudo apt-get install gdb mailutils postfix lib32gcc1</code></p>
<h2><strong>Step 3</strong> - Create server user account</h2>
<p>Create a user for the server admin, assign a password, and login to tf2server account</p>
<div class="highlight"><pre><span></span>adduser tf2server
passwd tf2server
su tf2server
</pre></div>


<h2><strong>Step 4</strong> - Install steam server software</h2>
<p>There are multiple ways of doing this. One is to follow the <a href="https://wiki.teamfortress.com/wiki/Linux_dedicated_server">steam installation</a> or another <a href="http://stevenbenner.com/2010/11/how-to-set-up-a-team-fortress-2-dedicated-server-on-ubuntu/">tutorial</a> or <a href="http://danielgibbs.co.uk/lgsm/tf2server/">another tutorial</a>, which is what I recommend and used.  </p>
<p>This will download the script, make it executable, and execute the installation</p>
<div class="highlight"><pre><span></span>wget http://danielgibbs.co.uk/dl/tf2server
chmod +x tf2server
./tf2server install
</pre></div>


<h2><strong>Step 5</strong> - Start the server</h2>
<p>Go to the tf2server home directory <code>cd ~</code> which will take you to <code>/home/tf2server/</code> and use these commands to manage your server  </p>
<div class="highlight"><pre><span></span>./tf2server start
./tf2server stop
./tf2server restart
./tf2server details
</pre></div>


<p>Type <code>./tf2server start</code> to start the server</p>
<h2><strong>Step 6</strong> - Connect via LAN</h2>
<p>if you run <code>./tf2server details</code> you will see a bunch of output  </p>
<div class="highlight"><pre><span></span><span class="n">Team</span> <span class="n">Fortress</span> <span class="mi">2</span> <span class="n">Server</span> <span class="n">Details</span>
<span class="o">================================================================================================================================================</span>
<span class="n">Server</span> <span class="n">name</span><span class="p">:</span>    <span class="n">tf2</span> <span class="n">server</span> <span class="mi">1</span>
<span class="n">Server</span> <span class="n">IP</span><span class="p">:</span>      <span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">196</span><span class="p">:</span><span class="mi">27015</span>
<span class="n">RCON</span> <span class="n">password</span><span class="p">:</span>  <span class="n">tf2server</span>
<span class="n">Status</span><span class="p">:</span>         <span class="n">ONLINE</span>

<span class="n">Command</span><span class="o">-</span><span class="n">line</span> <span class="k">Parameters</span>
<span class="o">================================================================================================================================================</span>
<span class="p">.</span><span class="o">/</span><span class="n">srcds_run</span> <span class="o">-</span><span class="n">game</span> <span class="n">tf</span> <span class="o">-</span><span class="n">strictportbind</span> <span class="o">-</span><span class="n">ip</span> <span class="mi">192</span><span class="p">.</span><span class="mi">168</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">196</span> <span class="o">-</span><span class="n">port</span> <span class="mi">27015</span> <span class="o">+</span><span class="n">clientport</span> <span class="mi">27005</span> <span class="o">+</span><span class="n">tv_port</span> <span class="mi">27020</span> <span class="o">-</span><span class="n">tickrate</span>  <span class="o">+</span><span class="k">map</span> <span class="n">pl_goldrush</span> <span class="o">+</span><span class="n">servercfgfile</span> <span class="n">tf2</span><span class="o">-</span><span class="n">server</span><span class="p">.</span><span class="n">cfg</span> <span class="o">-</span><span class="n">maxplayers</span> <span class="mi">16</span>
</pre></div>


<p>what we want here is the local ip and port <code>Server IP: 192.168.1.196:27015</code></p>
<p>Now we can connect locally by launching Team Fortress 2, hit <code>~</code> to drop down the console and type <code>connect 192.168.1.196:27015</code> and that should connect you to the server locally</p>
<h2><strong>Step 7</strong> - Set up a Public Server</h2>
<p>If you want to make this a public server, we need to do a few more things. First, I needed to remove the <code>-strictportbind</code> portion on the command-line properties in the file located in <code>/tf2server/tf2server</code> file so that an unused port is chosen, so when you restart the tf2server, it may choose a different port to allow for online access.</p>
<p>After that, I access my default router IP via a web browser with <code>192.168.1.1</code> and set up a port forward on the server IP and port</p>
<p>Now, restart the tf2server with <code>./tf2server restart</code> and go to the console <code>./tf2server console</code> and look at some of the output. Note, this script uses tmux, which allows us to log out of the server and keep the server running. Here, you can run all the comamnds to manage the server</p>
<p>You should see somewhere in the top the public ip address of the server computer</p>
<div class="highlight"><pre><span></span><span class="k">Connection</span> <span class="k">to</span> <span class="n">Steam</span> <span class="n">servers</span> <span class="n">successful</span><span class="p">.</span>
   <span class="k">Public</span> <span class="n">IP</span> <span class="k">is</span> <span class="mi">12</span><span class="p">.</span><span class="mi">34</span><span class="p">.</span><span class="mi">56</span><span class="p">.</span><span class="mi">78</span><span class="p">.</span>
</pre></div>


<p>and</p>
<div class="highlight"><pre><span></span>Network: IP <span class="m">192</span>.168.1.196, mode MP, dedicated Yes, ports <span class="m">27015</span> SV / <span class="m">27005</span> CL
</pre></div>


<h2><strong>Step 8</strong> - Connect to your public server</h2>
<p>Now we have all the information we need to create public server, the public IP and the SV port it selected. Finally launch Steam and do</p>
<blockquote>
<p>Severs -&gt; Favorites -&gt; Add a Server -&gt; enter <code>12.34.56.78:27015</code></p>
</blockquote>
<p>Now you have a public server!</p>
<p>if you want to play without people, add some bots. Go to your console via <code>./tf2server console</code> and add some bots<code>tf_bot_add 4</code> change the level to <code>changelevel pl_goldrush</code></p>
<p>I have found many maps don't work well with bots. The maps I have listed below seemed to work well.</p>
<h2>Server Customization</h2>
<p>To customize your server there are a few files you should edit. Make sure you make a backup of each in case it gets messed up</p>
<p>The configuration file updates the server every time a new map loads. Here is mine.
/home/tf2server/serverfiles/tf/cfg/tf2-server.cfg</p>
<div class="highlight"><pre><span></span><span class="n">mp_disable_respawn_times</span> <span class="mi">0</span>
<span class="n">tf_bot_quota</span> <span class="mi">13</span>
<span class="n">tf_bot_quota_mode</span> <span class="ss">&quot;fill&quot;</span>
<span class="n">tf_bot_difficulty</span> <span class="mi">1</span>
<span class="n">mp_timelimit</span> <span class="mi">15</span>
<span class="n">mp_maxrounds</span> <span class="mi">5</span>
<span class="n">mp_winlimit</span>
<span class="n">sv_cheats</span> <span class="mi">0</span>
<span class="n">tf_bot_melee_only</span> <span class="mi">0</span>
</pre></div>


<p>/home/tf2server/serverfiles/tf/cfg/mapcycle_default.txt
The mapcycle file tells the server which map to go to next. if you use <code>changelevel pl_barnblitz</code>, it will begin the cycle there</p>
<div class="highlight"><pre><span></span><span class="n">pl_badwater</span>
<span class="n">pl_goldrush</span>
<span class="n">pl_upward</span>
<span class="n">pl_barnblitz</span>
<span class="n">pl_hoodoo_final</span>
<span class="n">koth_viaduct</span>
<span class="n">koth_nucleus</span>
<span class="n">koth_harvest_final</span>
<span class="n">koth_lakeside_final</span>
<span class="n">koth_badlands</span>
<span class="n">koth_king</span>
<span class="n">plr_pipeline</span>
<span class="n">plr_hightower</span>
<span class="n">pl_thundermountain</span>
<span class="n">pl_frontier_final</span>
</pre></div>


<p>If you want to use your xbox controller, from the client computer access the console via <code>~</code> and run <code>exec 260controller</code></p>
<p>Enjoy!</p>
<p>Here are some links that I found helpful <br>
https://wiki.teamfortress.com/wiki/Linux_dedicated_server<br>
http://danielgibbs.co.uk/lgsm/tf2server/<br>
http://stevenbenner.com/2010/11/how-to-set-up-a-team-fortress-2-dedicated-server-on-ubuntu/<br>
https://developer.valvesoftware.com/wiki/List_of_TF2_console_commands_and_variables<br>
https://developer.valvesoftware.com/wiki/Console_Command_List<br>
http://steamcommunity.com/sharedfiles/filedetails/?id=250332112<br>
https://wiki.teamfortress.com/wiki/Linux_dedicated_server<br>
https://wiki.teamfortress.com/wiki/Bots  </p>
            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'nagordon-github'; // required: replace example with your forum shortname

                    var disqus_identifier = 'tf2-server-setup';
                var disqus_url = 'http://nagordon.github.io/ifcuriousthenlearn/blog/2015/03/14/tf2-server-setup/';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Social -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
  <ul class="list-group" id="social">
    <li class="list-group-item"><a href="https://www.linkedin.com/profile/public-profile-settings?trk=prof-edit-edit-public_profile"><i class="fa fa-linkedin-square fa-lg"></i> LinkedIn</a></li>
    <li class="list-group-item"><a href="https://github.com/nagordon"><i class="fa fa-github-square fa-lg"></i> GitHub</a></li>
    <li class="list-group-item"><a href="http://stackoverflow.com/users/2438993/nagordon"><i class="fa fa-stackoverflow-square fa-lg"></i> StackOverflow</a></li>
  </ul>
</li>
<!-- End Sidebar/Social -->

<!-- Sidebar/Recent Posts -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
  <ul class="list-group" id="recentposts">
    <li class="list-group-item"><a href="http://nagordon.github.io/ifcuriousthenlearn/blog/2017/05/29/brick-stacking/">An investigation of the Brick Stacking Problem</a></li>
    <li class="list-group-item"><a href="http://nagordon.github.io/ifcuriousthenlearn/blog/2016/08/20/pythoncode-vs-excel/">Calculations with Python Code or Excel Spreadsheets</a></li>
    <li class="list-group-item"><a href="http://nagordon.github.io/ifcuriousthenlearn/blog/2016/08/14/logical-indexing-with-python-excel/">Logical Indexing with Python and Excel</a></li>
    <li class="list-group-item"><a href="http://nagordon.github.io/ifcuriousthenlearn/blog/2016/06/05/sage-embed/">Sage Math Tool</a></li>
    <li class="list-group-item"><a href="http://nagordon.github.io/ifcuriousthenlearn/blog/2016/05/07/what-open-source-means/">Understanding and using technology</a></li>
  </ul>
</li>
<!-- End Sidebar/Recent Posts -->

<!-- Sidebar/Categories -->
<li class="list-group-item">
  <h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Categories</span></h4>
  <ul class="list-group" id="categories">
    <li class="list-group-item">
      <a href="http://nagordon.github.io/ifcuriousthenlearn/category/aviation.html"><i class="fa fa-folder-open fa-lg"></i>Aviation</a>
    </li>
    <li class="list-group-item">
      <a href="http://nagordon.github.io/ifcuriousthenlearn/category/computing.html"><i class="fa fa-folder-open fa-lg"></i>computing</a>
    </li>
    <li class="list-group-item">
      <a href="http://nagordon.github.io/ifcuriousthenlearn/category/engineering.html"><i class="fa fa-folder-open fa-lg"></i>Engineering</a>
    </li>
    <li class="list-group-item">
      <a href="http://nagordon.github.io/ifcuriousthenlearn/category/tools.html"><i class="fa fa-folder-open fa-lg"></i>Tools</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Categories -->

<!-- Sidebar/Github -->
<li class="list-group-item">
  <h4><i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub Repos</span></h4>
  <div id="gh_repos">
    <p class="list-group-item">Status updating...</p>
  </div>
</li>
<!-- End Sidebar/Github -->

<!-- Sidebar/Links -->
<li class="list-group-item">
  <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
  <ul class="list-group" id="links">
    <li class="list-group-item">
      <a href="http://getpelican.com/" target="_blank">Pelican</a>
    </li>
    <li class="list-group-item">
      <a href="http://python.org/" target="_blank">Python.org</a>
    </li>
    <li class="list-group-item">
      <a href="https://www.scipy.org/" target="_blank">Scipy.org</a>
    </li>
    <li class="list-group-item">
      <a href="http://jinja.pocoo.org/" target="_blank">Jinja2</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Links -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2017 Neal Gordon
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://nagordon.github.io/ifcuriousthenlearn/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://nagordon.github.io/ifcuriousthenlearn/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://nagordon.github.io/ifcuriousthenlearn/theme/js/respond.min.js"></script>

    <script src="http://nagordon.github.io/ifcuriousthenlearn/theme/js/bodypadding.js"></script>

<!-- GitHub JS Code -->
<script type="text/javascript">
$(document).ready(function () {
  if (!window.jXHR) {
    var jxhr = document.createElement('script');
    jxhr.type = 'text/javascript';
    jxhr.src = 'http://nagordon.github.io/ifcuriousthenlearn/theme/js/jXHR.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(jxhr, s);
  }

  github.showRepos({
    user: 'nagordon',
    count: 5,
    skip_forks: false,
    target: '#gh_repos'
  });
});
</script>
<script src="http://nagordon.github.io/ifcuriousthenlearn/theme/js/github.js" type="text/javascript"></script>
<!-- End GitHub JS Code -->
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'nagordon-github'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-65272251-1']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->


</body>
</html>